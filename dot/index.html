<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dot</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background: #ffffff;
        }

        .dot {
            position: absolute;
            border-radius: 50%;
            mix-blend-mode: multiply;
            will-change: transform, left, top;
            transition: all 2.2s cubic-bezier(0.45, 0.05, 0.55, 0.95);
            z-index: 2;
        }

        .trail {
            position: absolute;
            pointer-events: none;
            border-radius: 50%;
            mix-blend-mode: multiply;
            will-change: transform, opacity;
            transition: all 2.5s ease-out;
        }

        .path-trail {
            position: absolute;
            pointer-events: none;
            border-radius: 50%;
            mix-blend-mode: multiply;
            background: transparent;
            border: 1px solid;
            opacity: 0;
            transition: opacity 3s ease;
        }
    </style>
</head>

<body>
    <script>
        var dot = null;
        var trails = [];
        var pathTrails = [];
        var currentInterval = 0;
        var targetX = 50;
        var targetY = 50;
        var currentX = 50;
        var currentY = 50;
        var movementPattern = 0;
        var lastPositions = []; // Store last positions for trail effect
        var currentColor = '';

        function pastelColor() {
            const hue = Math.floor(Math.random() * 360);
            const saturation = 40 + Math.random() * 30;
            const lightness = 65 + Math.random() * 20;
            return `hsl(${hue}, ${saturation}%, ${lightness}%)`;
        }

        function getMovementInterval() {
            return 2200 + Math.random() * 800; // 2.2-3 seconds
        }

        function getEasing() {
            const easings = [
                'cubic-bezier(0.45, 0.05, 0.55, 0.95)',
                'cubic-bezier(0.37, 0, 0.63, 1)',
                'cubic-bezier(0.22, 0.61, 0.36, 1)',
                'cubic-bezier(0.32, 0.94, 0.6, 1)',
                'cubic-bezier(0.42, 0, 0.58, 1)'
            ];
            return easings[Math.floor(Math.random() * easings.length)];
        }

        function calculateNextPosition(currentX, currentY) {
            let newX, newY;
            
            movementPattern = (movementPattern + 1) % 4;
            
            switch(movementPattern) {
                case 0: // Gentle curve
                    newX = 30 + Math.random() * 40;
                    newY = 30 + Math.random() * 40;
                    break;
                case 1: // Horizontal movement with slight vertical change
                    newX = Math.random() * 100;
                    newY = currentY + (Math.random() - 0.5) * 15;
                    break;
                case 2: // Vertical movement with slight horizontal change
                    newX = currentX + (Math.random() - 0.5) * 15;
                    newY = Math.random() * 100;
                    break;
                case 3: // Circular/arc movement
                    const angle = Math.random() * Math.PI * 2;
                    const distance = 15 + Math.random() * 25;
                    newX = currentX + Math.cos(angle) * distance;
                    newY = currentY + Math.sin(angle) * distance;
                    break;
            }
            
            newX = Math.max(8, Math.min(92, newX));
            newY = Math.max(8, Math.min(92, newY));
            
            // Store position for trail effect
            lastPositions.push({x: currentX, y: currentY});
            if (lastPositions.length > 10) {
                lastPositions.shift();
            }
            
            return { x: newX, y: newY };
        }

        function createDot() {
            if (dot && dot.parentNode) {
                return;
            }
            
            dot = document.createElement("div");
            dot.className = "dot";
            dot.style.opacity = '1';
            
            const size = 60 + Math.random() * 80;
            dot.style.width = size + 'px';
            dot.style.height = size + 'px';
            
            currentColor = pastelColor();
            dot.style.backgroundColor = currentColor;
            
            currentX = 50;
            currentY = 50;
            dot.style.left = currentX + '%';
            dot.style.top = currentY + '%';
            dot.style.transform = 'translate(-50%, -50%)';
            
            document.body.appendChild(dot);
            
            // Initialize position history
            lastPositions = [{x: currentX, y: currentY}];
        }

        function updateDot() {
            if (!dot) return;
            
            const nextPos = calculateNextPosition(currentX, currentY);
            targetX = nextPos.x;
            targetY = nextPos.y;
            
            const size = 60 + Math.random() * 80;
            currentColor = pastelColor();
            
            const duration = 2.2 + Math.random() * 0.8;
            const easing = getEasing();
            dot.style.transition = `all ${duration}s ${easing}`;
            
            dot.style.width = size + 'px';
            dot.style.height = size + 'px';
            dot.style.backgroundColor = currentColor;
            dot.style.left = targetX + '%';
            dot.style.top = targetY + '%';
            
            // Subtle shadow for depth
            dot.style.boxShadow = `0 0 ${size * 0.2}px rgba(0, 0, 0, 0.08)`;
            
            currentX = targetX;
            currentY = targetY;
            
            // Create trail effect
            createTrailEffect(currentX, currentY, size, currentColor);
            
            // Create path trail (t effect)
            if (lastPositions.length > 3) {
                createPathTrail();
            }
        }

        function createTrailEffect(x, y, size, color) {
            // Create multiple trail dots along the path
            if (lastPositions.length > 2) {
                for (let i = 0; i < lastPositions.length; i += 2) {
                    if (Math.random() > 0.5) continue;
                    
                    const trailPos = lastPositions[i];
                    const trail = document.createElement("div");
                    trail.className = "trail";
                    
                    // Trail gets smaller the further back it is
                    const trailSize = size * (0.1 + (i / lastPositions.length) * 0.2);
                    const opacity = 0.05 + (i / lastPositions.length) * 0.1;
                    
                    trail.style.width = trailSize + 'px';
                    trail.style.height = trailSize + 'px';
                    trail.style.backgroundColor = color;
                    trail.style.left = trailPos.x + '%';
                    trail.style.top = trailPos.y + '%';
                    trail.style.transform = 'translate(-50%, -50%)';
                    trail.style.opacity = opacity;
                    trail.style.filter = `blur(${1 + i * 0.3}px)`;
                    
                    document.body.appendChild(trail);
                    trails.push(trail);
                    
                    // Fade out and remove
                    setTimeout(() => {
                        trail.style.opacity = '0';
                        setTimeout(() => {
                            if (trail.parentNode) {
                                trail.parentNode.removeChild(trail);
                                trails = trails.filter(t => t !== trail);
                            }
                        }, 2000);
                    }, 500);
                }
            }
        }

        function createPathTrail() {
            // Create a connecting line or "t" shape between recent positions
            if (lastPositions.length < 4) return;
            
            const recentPositions = lastPositions.slice(-4);
            
            // Create a subtle path connection
            for (let i = 0; i < recentPositions.length - 1; i++) {
                const start = recentPositions[i];
                const end = recentPositions[i + 1];
                
                const pathTrail = document.createElement("div");
                pathTrail.className = "path-trail";
                
                // Calculate distance and angle between points
                const dx = end.x - start.x;
                const dy = end.y - start.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                const angle = Math.atan2(dy, dx) * (180 / Math.PI);
                
                // Position at midpoint
                const midX = (start.x + end.x) / 2;
                const midY = (start.y + end.y) / 2;
                
                pathTrail.style.width = distance + '%';
                pathTrail.style.height = '1px';
                pathTrail.style.left = midX + '%';
                pathTrail.style.top = midY + '%';
                pathTrail.style.transform = `translate(-50%, -50%) rotate(${angle}deg)`;
                pathTrail.style.opacity = '0.1';
                pathTrail.style.borderColor = currentColor;
                pathTrail.style.borderRadius = '1px';
                
                document.body.appendChild(pathTrail);
                pathTrails.push(pathTrail);
                
                // Fade out path
                setTimeout(() => {
                    pathTrail.style.opacity = '0';
                    setTimeout(() => {
                        if (pathTrail.parentNode) {
                            pathTrail.parentNode.removeChild(pathTrail);
                            pathTrails = pathTrails.filter(p => p !== pathTrail);
                        }
                    }, 3000);
                }, 1000);
            }
            
            // Create a cross or "t" shape at the current position
            if (Math.random() > 0.7) {
                createTShape(currentX, currentY, currentColor);
            }
        }

        function createTShape(x, y, color) {
            // Create a "t" shape at position
            const tSize = 20 + Math.random() * 30;
            
            // Horizontal line of the T
            const horizontal = document.createElement("div");
            horizontal.className = "path-trail";
            horizontal.style.width = tSize + 'px';
            horizontal.style.height = '1px';
            horizontal.style.left = x + '%';
            horizontal.style.top = y + '%';
            horizontal.style.transform = 'translate(-50%, -50%)';
            horizontal.style.opacity = '0.15';
            horizontal.style.borderColor = color;
            
            // Vertical line of the T
            const vertical = document.createElement("div");
            vertical.className = "path-trail";
            vertical.style.width = '1px';
            vertical.style.height = tSize * 0.8 + 'px';
            vertical.style.left = x + '%';
            vertical.style.top = (y - tSize * 0.4) + '%';
            vertical.style.transform = 'translate(-50%, -50%)';
            vertical.style.opacity = '0.15';
            vertical.style.borderColor = color;
            
            document.body.appendChild(horizontal);
            document.body.appendChild(vertical);
            
            pathTrails.push(horizontal, vertical);
            
            // Fade out T shape
            setTimeout(() => {
                horizontal.style.opacity = '0';
                vertical.style.opacity = '0';
                setTimeout(() => {
                    if (horizontal.parentNode) horizontal.parentNode.removeChild(horizontal);
                    if (vertical.parentNode) vertical.parentNode.removeChild(vertical);
                    pathTrails = pathTrails.filter(p => p !== horizontal && p !== vertical);
                }, 2500);
            }, 1500);
        }

        function animate() {
            clearTimeout(currentInterval);
            updateDot();
            
            currentInterval = setTimeout(() => {
                requestAnimationFrame(animate);
            }, getMovementInterval());
        }

        function init() {
            createDot();
            
            setTimeout(() => {
                animate();
            }, 1000);
        }

        window.addEventListener('load', init);
    </script>
</body>

</html>
